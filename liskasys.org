LISKASYST

podpurny informacni system pro lesni materskou skolu Listicka

* obědy a platby = první verze po domluvě s Dankou
** příhlášení email+variabilní symbol
** možnost zrušit oběd do 10:00 předchozího dne (do nastavení X hodin před polednem tj. 26 hodin)
** zobrazit platbu na následující období (vypočítat obědy - odhlášené)
** kontakt na ITka: Milan Vlahovič 776700724
** přehodnocení technologií?
*** embeded H2, bez CLJS, bez modelování
*** čisté HTML+bootstrap (z CDN), SQL
** data
*** user
**** firstname
**** lastname
**** email
**** phone
**** passwd
**** admin?
*** child
**** firstname
**** lastname
**** variable-symbol
*** user-child
**** id
**** user-id
**** child-id
*** attendance
**** child-id
**** valid-from
**** valid-to
**** edn
{:full-days #{:tu :we :th :fr}
 :half-days #{}
 :lunch #{:tu :we :th :fr}}
|     | none / half / full   | no lunch |
|-----+----------------------+----------|
| Mon | o none o half o full | [ ]      |
| Tue | o none o half x full | [ ]      |
| Wed | o none o half x full | [ ]      |
| Thu | o none x half o full | [x]      |
| Fri | o none o half x full | [ ]      |
*** cancellation
**** child-id
**** date
**** cancel-lunch?
**** user-id

* GOALS

** zjednodusit odhlasovani obedu / zaslani omluvenky / aktualni seznam deti na dany den / pocet obedu

** usnadnit praci pri vypocitani platby na dalsi obdobi

** moznost aktualizace kontaktnich udaju 



* TECHNOLOGY CHOICES

** open source
** cloud
** datomic (+conformity?)
** mobile-first design
** cljs (chrome+safari)
** SSL
** backups
** emails
** multilanguage (cz+en)
** local storage for offline contacts / mobile app?


* Data model

:role/label
:role/ident (:child :parent :assistant :admin ...)

:person/firstname
:person/lastname
:person/nickname
:person/email
:person/roles
:person/passwd
:person/birthdate
:person/phones
:person/addresses

:contact/label
:contact/person

:child/contacts
:child/attendancesp
:child/cancellation-dates

:attendance/from
:attendance/to
:attendance/weekdays (:mo :tu :we :th :fr :sa :su) + :full :half :half+lunch => {:mo :half :we :half+lunch :fr :full}
:attendance/confirmed?

:price-list/from
:price-list/to
:price-list/lunch
:price-list/half-day
:price-list/one-day
:price-list/two-days
:price-list/three-days
:price-list/four-days
:price-list/five-days

:settings/lunch-cancel-deadline (hours before noon)

* Pages

** login (email + password)
** my info
** for parents:
*** my chilren
**** attendance (this+next week)
**** lunches
*** my contacts
*** my billing
** for assistants
*** children list / day (check-in?)
*** find contacts
** for admins
*** lunch count / day
*** billing / child
*** edit everything...
**** people by roles + all info & contacts
**** attendance
**** price list
**** settings


* First simplest version = admin part

** create/read/update/delete data
** cancel-attendance+lunch per child/day
** display lunch count per day
** display list of children per day
** display billing info per child/month (minus previously cancelled lunches)
